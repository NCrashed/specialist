@startuml
start

:Вычисление количество потомков дерева;

:Выбрать текущим корень дерева;

while (Элемент для мутации не выбран)

  :Получить случайное число от 0 до 1;

  :n = 1 + Количество потомков текущего узла;

  if (Число меньше 1/n) then (Да)
    :Выбрать текущий элемент для мутации;
  else (Нет)
    :Перейти в потомка i с вероятностью 1/(n-1);
  endif
end while (Элемент выбран)

:maxh = Максимальная высота дерева;

:hstart = Высота дерева в точке выбранного элемента;

:h = max 0 (maxh - hstart);

:Сгенерировать новое поддерево с высотой не большей h;

:Заменить выбранный элемент новым поддеревом;
stop
@enduml